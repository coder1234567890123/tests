{% extends 'base.html.twig' %}

{% block stylesheets %}
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
          integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <style>
        body {

            color: #007400;
            font-size: 16px;
        }

        .page {
            page-break-before: always;
        }

        .page-auto {
            page-break-before: auto;
        }


        .colHalf {
            width: 50% !important;
            float: left;
            padding: 50px 0px 50px 0px;
            text-align: center;
            background-color: #E8FFBB;
        }

        .roundedCorners {
            background-color: #E8FFBB;
            -moz-border-radius: 15px;
            -webkit-border-radius: 15px;
            border-radius: 15px; /* future proofing */
            -khtml-border-radius: 15px; /* for old Konqueror browsers */
            overflow: hidden;
            margin-top: 20px;
        }

        .roundedCorners p {

            padding: 0px 0px 0px 10px;

        }

        .roundedCornersHeader {
            background-color: #C9FE68;
            padding: 5px 0px 5px 10px;
            margin: 0px 0px 0px 0px;
            font-size: 20px;
        }

        .notes {
            background-color: #E8FFBB;
            width: 100%;
        }

        .notesHeader {
            background-color: #C9FE68;
            padding: 5px 0px 5px 10px;
            margin: 0px 0px 0px 0px;
            font-size: 20px;
        }

        .notes p {

            padding: 0px 0px 0px 10px;

        }

        .tableResults {
            color: #007400;
            width: 100%;
            font-size: 16px;
        }

        .tableResultsUnderline {
            border-bottom: 2px solid #007400;
            font-size: 20px;
        }

        .tableCandidateWith {
            width: 50%;
        }

        .float-right {

            float: right;
        }

        .float-left {

            float: left;
        }

        .margin-bottom {

            margin-bottom: 10px;
        }

        .confidential {
            clear: both;
        }
    </style>
{% endblock stylesheets %}

{% block body %}
    <div class="container-fluid">
        <div class="float-right margin-bottom confidential">
            Confidential
        </div>
        <div class="clearfix"></div>
        <div class="notes">
            <div class="notesHeader">
                Notes:
            </div>
            <p>Testing Summary Data here</p>
        </div>
        <table class="tableResults">
            <tr class="tableResultsUnderline">
                <td>Candidate</td>
                <td>Date Submitted</td>
                <td>Consultant</td>
                <td>Delivery Date</td>
            </tr>
            {% for report in userReport %}

                <tr>
                    <td>
                        {{ report.subject.firstName }}
                        {{ report.subject.lastName }}
                    </td>
                    <td>
                        {{ report.createdAt|date('d-M-Y H:i:s') }}
                    </td>
                    <td>
                        {% if report.assignedTo.firstName is defined %}
                            {{ report.assignedTo.firstName }}
                            {{ report.assignedTo.lastName }}
                        {% endif %}
                    </td>
                    <td>
                        {{ report.completedDate|date('d-M-Y H:i:s') }}
                    </td>
                </tr>

            {% endfor %}
        </table>
        <hr>
        <table class="tableResults">
            <tr class="tableResultsUnderline">
                <td class="tableCandidateWith">Candidate</td>
                <td>Social Media Score</td>
                <td>Risk Score</td>
            </tr>
            {% for report2 in userSubjects %}
                <tr>
                    <td>
                        {{ report2.name }}
                    </td>
                    <td>
                        {{ report2.social_score }}
                    </td>
                    <td>
                        {{ report2.risk_score }}
                    </td>
                </tr>

            {% endfor %}
        </table>
        <hr>
        <div class="page">
            <div class="colHalf">
                AVERAGE SOCIAL MEDIA SCORE
                <p> {{ configReports['average_score'] }}</p>
            </div>
            <div class="colHalf">
                AVERAGE RISK SCORE
                <p> {{ configReports['average_risk'] }}</p>
            </div>
        </div>
        <hr>
        <div class="container ">
            <div class="roundedCorners">
                <div class="roundedCornersHeader">
                    REPORT TURN AROUND TIMES
                </div>
                <br>
                <p> As per the Service Level Agreement, FAROSIAN commits to deliver social media screening reports in no
                    more than {{ configReports['turn_around_time'] }}
                    business days.
                </p>
                <p>
                    During the month of September an average turnaround time from date and time of enquiry/ delivery has
                    been 1.58 business
                    days.
                </p>
            </div>
            <div class="roundedCorners">
                <div class="roundedCornersHeader">
                    TOP CANDIDATE SCORES
                </div>
                {% for topUser in topCandidateScore %}
                    <ol>{{ topUser.no }}. {{ topUser.name }}</ol>
                {% endfor %}
                <p>
                    HIGHEST RISK CANDIDATE SCORES ({{ configReports['high_risk_percentage'] }} PLUS)
                </p>
                <p>
                    {% for riskUser in highRiskCandidateScore %}
                <ol>{{ riskUser.no }}. {{ riskUser.name }}</ol>
                {% endfor %}
                </p>
            </div>
            <div class="roundedCorners">
                <div class="roundedCornersHeader">
                    SCORE SUMMARY
                </div>
                <br>
                <p>
                    The above two candidates are of concern.
                    Natasha Herbert – reference to racism, sizeism (discrimination of individuals based on weight/
                    physical size), illegal
                    substances (drugs), homophobia and religious discrimination. This data subject is believed to be a
                    high risk candidate who
                    may cause brand/ reputational harm.
                </p>
                <p>
                    Lesego Amanda Mongala – content found of exhibiting nudity on some social profiles, crude and vulgar
                    language use,
                    racism, as well as content which may be interpreted as homophobic. The data subject does have
                    positive content available
                    on LinkedIn, Pinterest and YouTube, which has elevated the social media and risk score. This data
                    subject is believed to be
                    a high risk candidate, who my cause brand/ reputational harm.
                </p>
            </div>
            <div class="roundedCorners">
                <div class="roundedCornersHeader">
                    COMMENTS
                </div>
                <br>
                <p>
                    The number of enquiries submitted during the month of September increased month on month from, 31
                    reports in the
                    month of August to 41 reports in the month of September.
                    Various instances of incorrect information/ duplication of information have been observed (i.e. the
                    same e mail address was
                    provided for two different data subjects), with users not providing relevant employment details and
                    or educational
                    qualifications for enquiries. This is essential in the reporting process in order to accurately
                    match data subjects to their
                    social media profiles. It must also be noted, that references for data subjects are not being
                    captured, FAROSIAN therefore
                    cannot validate references.
                </p>
            </div>
        </div>
        {# end of report#}
    </div>
{% endblock body %}